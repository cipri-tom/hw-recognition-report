\documentclass[12pt]{report}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{pdfsync}        % allows clicking in PDF to take you back to the text

\usepackage{lmodern}        % use modern latin fonts
% \usepackage{palatino}        % use modern latin fonts
% \usepackage{times}        % use modern latin fonts
\usepackage[T1]{fontenc}    % use 8 bit output font encoding with more glyphs
\usepackage[utf8]{inputenc} % so you can type ă
% \usepackage{siunitx}        % automatically formats numbers with spaces and all that

\usepackage[dvipsnames]{xcolor}         % more color choices
\usepackage[english=british]{csquotes} % for correct use of `` '' ... TODO!!
\usepackage{url}            % typeset URL's sensibly
\usepackage[nottoc]{tocbibind} % include bibliography in ToC (third-rep.cls not working)
\usepackage{appendix} % customise the appearance of appendix via an 'appendix' environment
\usepackage{tabu}
\usepackage{floatrow}       % automatically centers floats

\usepackage[a4paper,textwidth=159mm, hmargin ratio=1:1, vmargin ratio=1:1, verbose]{geometry}
\makeatletter
\AtEndPreamble{%
  \normalfont
  \ifcase \@ptsize
    \geometry{textheight=240mm}%
    \or
    \geometry{textheight=243mm}%
    \or
    \geometry{textheight=241mm}%
  \fi
}

\usepackage{enumitem} % configure labels of items in enumerations i.e. i), ii)
\setlist[description]{style=nextline,font=\normalfont\textbullet\space,labelindent=\parindent}


\usepackage{natbib}
\setcitestyle{authoryear,round}

% the starred \newcommand is more strick wrt the arguments it takes (cannot contain paragraph)
% so \newcommand* should be the default you use
\definecolor{ToDoColor}{rgb}{0.4,0.4,0.4}
\newcommand{\todo}[1]{\textcolor{ToDoColor}{ToDo: #1}}
\newcommand*{\startToDo}{\color{ToDoColor}ToDo: \\}
\newcommand*{\stopToDo}{\color{Black}}

%% =============================================================================
% Remove "Chapter x" line before a new chapter
% This should be in .cls file, ideally
\makeatletter
\renewcommand{\@makechapterhead}[1]{%
  % \vspace*{15 pt}% Space before the chapter name
  {\setlength{\parindent}{0pt} \raggedright \normalfont
    \bfseries\Huge
    #1% The chapter's name
    \par\nobreak\vspace{35 pt}}} % Space after chapter name
\makeatother
%% =============================================================================

\usepackage{amsmath, amssymb}
\DeclareMathOperator*{\argmin}{argmin} % * means the argument in _{} is placed below rather than to the right
\DeclareMathOperator{\iou}{IoU}
\DeclareMathOperator{\AP}{\operatorname{AP}_{\iou > 0.5}}
\providecommand{\norm}[1]{\lVert#1\rVert} % unlike \newcommand, this does nothing if \norm already exists
\newcommand*{\ve}[1]{\mathbf{#1}} % for displaying a vector
\newcommand*{\ma}[1]{\mathrm{#1}} % for displaying a matrix
\newcommand*{\cls}{\mathit{cls}} % for RPN loss
\newcommand*{\reg}{\mathit{reg}}
% this makes the symbol := look nicer
\mathchardef\ordinarycolon\mathcode`\:
\mathcode`\:=\string"8000
\begingroup \catcode`\:=\active
  \gdef:{\mathrel{\mathop\ordinarycolon}}
\endgroup


\usepackage{graphicx}
\graphicspath{{./images/}}
\setkeys{Gin}{width=\linewidth} % set \includegraphics default width

\usepackage{caption,subcaption}
% \subref -> '(a)' rather than just 'a'
\captionsetup[subfigure]{subrefformat=simple,labelformat=simple}
\renewcommand\thesubfigure{(\alph{subfigure})}
\makeatletter
\renewcommand\p@subfigure{\thefigure~}
\makeatother
% make the caption a bit shorter than the rest of the text, with bold font for label
\captionsetup{margin=10pt,labelfont=bf,indention=.5cm}

% try to include the short caption title in the long one
% it doesn't work https://tex.stackexchange.com/questions/127921/
% \usepackage{xpatch}
% \tracingpatches
% \makeatletter
% \patchcmd{\@caption}{#3}{#2~--~#3}{}{}
% % \xshowcmd\@caption
% \makeatother

% \@caption=\long macro:
% #1[#2]#3->\par \addcontentsline {\csname ext@#1\endcsname }{#1}{\protect \numbe
% rline {\csname the#1\endcsname }{\ignorespaces #2}}\begingroup \@parboxrestore
% \if@minipage \@setminipage \fi \normalsize \@makecaption {\csname fnum@#1\endcs
% name }{\ignorespaces #3}\par \endgroup .
% <recently read> \@caption

\input{hyperref_config}

% \usepackage{algpseudocode}
% \usepackage{algorithmicx}
% \algrenewcommand{\algorithmiccomment}[1]{\hskip3em// #1}
%\renewcommand{\algorithmicforall}{\textbf{for each}} % 'for all' -> 'for each'
% define commands to indent without \State
% \algdef{SE}[SUBALG]{Indent}{EndIndent}{}{\algorithmicend\ }%
% \algtext*{Indent}
% \algtext*{EndIndent}

% \usepackage{relsize}        % allows you to resize individual characters e.g. underscore
% \renewcommand{\_}{\textscale{.5}{\textunderscore}}

\newcommand*{\pkg}[1]{\textsf{\detokenize{#1}}} % typeset the name of a package: \pkg{tum_ardrone}
\newcommand*{\ds}[1]{\textsl{\textsf{\detokenize{#1}}}} % and of a dataset \ds{RIMES}
% these complicated definitions ensure that you always get correct spacing after the command
% and that you cannot forget the correct form (e.g. \FRCNN{}) because this would give you
% bad spacing.
\makeatletter
    \@ifdefinable{\FRCNN}{\def\FRCNN#{\mbox{\pkg{Faster R-CNN}}}}
    \@ifdefinable{\CTPN}{\def\CTPN#{\mbox{\pkg{CTPN}}}}
    \@ifdefinable{\RESNET}{\def\RESNET#{\mbox{\pkg{ResNet-101}}}}
    \@ifdefinable{\CRNN}{\def\CRNN#{\mbox{\pkg{CRNN}}}}
\makeatother


\title{Handwriting recognition in business documents}
\author{Ciprian Ioan Tomoiagă}


%\usepackage{fancyhdr}
%\pagestyle{fancy}
%\lhead{}  % left head
%\chead{Draft: \today} % centre head
%\lfoot{}
%\cfoot{\thepage}
%\rfoot{}

\renewcommand{\bibname}{References} % Bibliografy -> References

\begin{document}

% \input{chapters/title}
% \input{chapters/abstract}
% \input{chapters/thanks}

\tableofcontents
\listoffigures
% \listoftables


%% These include the actual text
\include{chapters/intro}
\include{chapters/detection}

\bibliography{refs}             % this causes the references to be listed
\bibliographystyle{plainnat}       % see natbib for other possible values

% \include{chapters/appendix}

\end{document}
